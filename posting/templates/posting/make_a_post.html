<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Make a post</title>
    {% load static %}
    {% load bootstrap4 %}
    <link rel="stylesheet" type="text/css" href="{% static "css/defaults.css" %}">
    <link rel="stylesheet" type="text/css" href="{% static "posting/css/make_a_post.css" %}">
    <link rel="script" href="https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.min.js">
     <script>
        $(document).ready
    </script>
</head>
<body>
<div class="header">
    {% include "includes/header_bar.html" %}
</div>
<div class="body">
    <div class="form_container make_a_post_container">
        <div>
            <h2>Make a post</h2>
        </div>
        <div class="form-group alert-danger">
                {{ form.non_field_errors }}
        </div>
        <form enctype="multipart/form-data" class="standard_form" method="post" action="{% url "posting-make-a-post" %}">
            {% csrf_token %}
            {# Loop through and wrap them in the form row divs #}
            <div class="container">
                <div class="row">
                    {% bootstrap_field form.title show_label=False show_help=False form_group_class='col' %}
                </div>
                <hr>
                <div class="row">
                    {% bootstrap_field form.post_type form_group_class='col' layout='horizontal' %}
                </div>
                <div class="row">
                    {% bootstrap_field form.required_access form_group_class='col' layout='horizontal' %}
                </div>
                <hr>
                <div class="row" style="margin-left: 0">
                    {% bootstrap_field form.image form_group_class='col-1' field_class='custom-file' label_class='custom-file-label' %}
                </div>
                <div class="row">
                    {% bootstrap_field form.content form_group_class='col' %}
                </div>
            </div>
            {% comment %}
            {% for field in form %}
                {% if field.name == "image" %}
                    {# For the image special rendering is required. Cause its images and HTML lol #}
                    <div class="custom-file">
                        {{ field }}
                        <label class="custom-file-label" for="{{ field.id_for_label }}">{{ field.label }}</label>
                    </div>
                {% elif field.name == 'post_type' or field.name == 'required_access' %}
                    {# To inline these two fields we need to use rows #}

                {% else %}
                    {% bootstrap_field field %}
                {% endif %}
            {% endfor %}
            {% endcomment %}
            <button class="btn btn-primary form_btn" type="submit">Post</button>


        </form>
    </div>
</div>
</body>
</html>